{% assign pages = page.children_in_list %}
{% assign thumb = 'images/thumbnail.png' | asset_url %}

<!-- component -->
<div>
  <section class="text-gray-700">
    <div class="container px-5 py-4 mx-auto">
      <div class="text-center items-center mb-20">
        {% if page.settings.icon %}
          <div class="flex justify-center items-center pt-12">
            <img src="{{ page.settings.icon }}" class="h-10"/>
          </div>
        {% endif %}
        <h1 class="sm:text-3xl text-2xl font-medium text-center title-font text-gray-900 mb-4">
          {{ page.settings.title }}
        </h1>
        <p class="text-base leading-relaxed xl:w-2/4 lg:w-3/4 mx-auto">
          {{ page.settings.description }}
        </p>
      </div>
      <div class="flex flex-wrap lg:w-4/5 sm:mx-auto sm:mb-2 -mx-2">
        {%# 分页 %}
        {% paginate_tag pages, per: 24 %}
          {% for sub_page in pages %}
            <div class="w-full lg:w-1/2 px-4 pt-2 lg:pb-2">
              <details class="mb-4">
                <summary class="flex-wrap font-semibold bg-gray-200 rounded-md py-2 px-4">
                  <span class="break-normal">{{ sub_page.settings.title }}</span>
                </summary>

                <div class="overflow-auto">
                  <div class="ProseMirror prose sm:prose-base lg:prose-md focus:outline-none dark:prose-invert text-wrap break-normal flex-wrap">
                    {{ sub_page.settings.content }}
                  </div>
                </div>
                
              </details>
            </div>
          {% endfor %}
          <!-- Pagination -->
          <div class="w-full text-right block">
            {% render 'paginate', paginate: paginate %}
          </div>
        {% endpaginate_tag %}


      </div>
    </div>
  </section>
</div>


{% schema %}
  {
    "name": "FAQ",
    "thumb_url": "images/theme/faq.png",
    "description": "FAQ常见问题折叠列表",
    "sub_page_templates": ["faq_detail"],
    "settings": [
      {
        "id": "title",
        "type": "text",
        "placeholder": "",
        "label": "标题"
      },
      {
        "id": "description",
        "type": "textarea",
        "label": "描述"
      },
      {
          "id": "icon",
          "type": "image_picker",
          "ratio": "1:1",
          "width": 60,
          "label": "图标"
      },
      {
        "id": "recommend_to_index",
        "type": "checkbox",
        "label": "推荐到首页展示",
        "default": false
      }
    ]
  }
{% endschema%}